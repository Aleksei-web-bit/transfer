
import pandas as pd
from sklearn.decomposition import PCA

# Загрузка данных из файла
data = pd.read_csv('2.csv', header=None)

# Создание объекта PCA
pca = PCA()

# Применение PCA к данным
pca.fit(data)

# Нахождение координат первого объекта относительно первой и второй главных компонент
first_object_coordinates = pca.transform(data)[0]

# Вывод координат первого объекта относительно первой и второй главных компонент
print('Координата относительно первой главной компоненты:', round(first_object_coordinates[0], 3))  # Координата относительно первой главной компоненты
print('Координата относительно второй главной компоненты:', round(first_object_coordinates[1], 3))  # Координата относительно второй главной компоненты

# Нахождение доли объясненной дисперсии при использовании первых двух главных компонент
explained_variance_ratio = sum(pca.explained_variance_ratio_[:2])

# Вывод доли объясненной дисперсии при использовании первых двух главных компонент
print('Вывод доли объясненной дисперсии при использовании первых двух главных компонент:', round(explained_variance_ratio, 3))

# Нахождение минимального количества главных компонент для доли объясненной дисперсии > 0.85
min_components = 0
explained_variance = 0
while explained_variance < 0.85:
    min_components += 1
    explained_variance = sum(pca.explained_variance_ratio_[:min_components])

# Вывод минимального количества главных компонент
print('Вывод минимального количества главных компонент:', min_components)

# Определение количества групп объектов при использовании только первых двух главных компонент
num_groups = 2  # Так как мы используем первые две главные компоненты
# Обратите внимание, что для определения количества групп требуется дополнительный анализ данных и кластеризация

# Вывод количества групп объектов
print('Вывод количества групп объектов:', num_groups)